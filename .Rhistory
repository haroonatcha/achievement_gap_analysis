y = 'Party') +
my_theme +
theme(legend.position = 'none')
library('ggplot2')
library('scales')
library('prismatic')
my_theme <- theme(axis.line.y = element_line(color = 'black'),
axis.text = element_text(family = 'serif',
color = 'black',
size = 12),
axis.title = element_text(family = 'serif',
color = 'black'),
axis.ticks = element_blank(),
legend.position = 'top',
legend.title = element_blank(),
legend.key = element_blank(),
panel.grid = element_blank(),
panel.grid.major.x = element_line(color = 'grey90'),
panel.background = element_rect(fill = NA),
plot.title = element_text(family = 'serif',
hjust = 0.5))
viz <- data.frame(
matrix(
c('Socialists', 0.35,
'Pizza Party', 0.14,
'Union for a Pastry Future', 0.11,
'Crustacean Convention', 0.10,
'Conservatives', 0.30),
nrow = 5, byrow = TRUE
)
)
colnames(viz) <- c('Party', 'Vote_Share')
viz$Vote_Share <- as.numeric(viz$Vote_Share)
viz$alpha <- ifelse(viz$Party == 'Socialists' |
viz$Party == 'Conservatives',
1, 0)
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(aes(alpha = alpha),
fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
#geom_text(aes(),
#          size = 5,
#          inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
labels <- data.frame(
matrix(
c('Socialists', 0.4, 'Move on\nto Round 2!'
'Conservatives', 0.4, 'Move on\ntoRound 2!')
)
)
labels <- data.frame(
matrix(
c('Socialists', 0.4, 'Move on\nto Round 2!',
'Conservatives', 0.4, 'Move on\ntoRound 2!'),
nrow = 2, byrow = TRUE
)
)
colnames(labels) <- c('Party', 'x', 'label')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(aes(alpha = alpha),
fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
geom_text(data = labels,
aes(y = Party,
x = x,
label = label),
size = 5,
inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
labels$x <- as.numeric(labels$x)
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(aes(alpha = alpha),
fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
geom_text(data = labels,
aes(y = Party,
x = x,
label = label),
size = 5,
inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
labels <- data.frame(
matrix(
c('Socialists', 0.4, 'Move on\nto Round 2!',
'Conservatives', 0.4, 'Move on\nto Round 2!'),
nrow = 2, byrow = TRUE
)
)
viz <- data.frame(
matrix(
c('Socialists', 0.47,
'Conservatives', 0.53),
nrow = 2, byrow = TRUE
)
)
colnames(viz) <- c('Party', 'Vote_Share')
viz$Vote_Share <- as.numeric(viz$Vote_Share)
viz
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(aes(alpha = alpha),
fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
geom_text(data = labels,
aes(y = Party,
x = x,
label = label),
size = 5,
inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
geom_text(data = labels,
aes(y = Party,
x = x,
label = label),
size = 5,
inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
geom_text(data = labels,
aes(y = Party,
x = x),
size = 5,
inherit.aes = FALSE) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_vline(xintercept = 0.5) +
geom_col(fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Vote for One',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
ggplot(data = viz,
aes(x = Vote_Share,
y = Party)) +
geom_col(fill = '#81515a',
color = clr_darken('#81515a', 0.5)) +
geom_vline(xintercept = 0.5) +
scale_x_continuous(expand = expansion(mult = c(0, 0.1)),
breaks = seq(from = 0.1,
to = 0.6,
by = 0.1),
labels = percent) +
scale_alpha_continuous(range = c(0.25, 1)) +
labs(title = 'Winner: Conservatives',
x = 'Vote Share',
y = 'Party') +
my_theme +
theme(legend.position = 'none')
setwd('C:/Users/Haroon Atcha/Desktop/achievement_gap_analysis')
library('ProjectTemplate')
load.project()
load.project()
library('ggplot2')
library('scales')
viz <- gap[gap$institution %in% institutions,]
#keep only raw completion numbers
viz <- melt(viz[,c(1:5)],
id.vars = c('institution', 'year'))
colnames(viz) <- c('institution', 'year',
'ethnicity', 'completion')
viz$ethnicity <- factor(viz$ethnicity,
levels = c('black_aa',
'hispanic_latino',
'white'),
labels = c('Black/African American',
'Hispanic/Latino',
'White'))
plot1 <- ggplot(data = viz) +
geom_line(aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_discrete() +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
ggsave(file.path('graphs', 'plot1.png'))
library('prismatic')
plot1 <- ggplot(data = viz) +
geom_line(aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
(aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.5)) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.5)) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.5)) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.5) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.25) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1.125) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
#scale_fill_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line() +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5),
guide = 'none') +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_manual(values = clr_darken(c('#81515a', '#5f5a80', '#126a62'), 0.5)) +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
ggsave(file.path('graphs', 'plot1.png'))
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_manual(values = c('#81515a', '#5f5a80', '#126a62'))) +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
ggsave(file.path('graphs', 'plot1.png'))
plot1 <- ggplot(data = viz,
aes(x = year,
y = completion,
color = ethnicity,
group = ethnicity)) +
geom_line(size = 1) +
facet_wrap(facets = 'institution') +
scale_x_continuous(breaks = seq(from = min(viz$year),
to = max(viz$year),
by = 2)) +
scale_y_continuous(labels = label_percent(accuracy = 1L)) +
scale_color_manual(values = c('#81515a', '#5f5a80', '#126a62')) +
labs(x = '\nYear',
y = 'Percent Completed\n',
title = 'Percent Completed at Peer Institutions by Ethnicity') +
my_theme
plot1
ggsave(file.path('graphs', 'plot1.png'))
